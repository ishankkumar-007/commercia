{% extends 'base.html' %}

{% block title %}{{ product.get('Product_name', 'Description') }}{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/view_details.css') }}">

<div class="container">
    <div class="product-details">
        <!-- Left: Image Gallery -->
        <div class="image-gallery">
            <!-- <div class="thumbnail-list">
                {% if product.get('Images') %}
                    {% for image in product['Images'] %}
                    <img src="{{ url_for('static', filename='images/' + image) }}" alt="Thumbnail" class="thumbnail" onclick="updateMainImage(this)">
                    {% endfor %}
                {% else %}
                    <p>No Images Available</p>
                {% endif %}
            </div> -->
            <div class="main-image">
                <img id="mainImage" src="{{ product['Images'][0] }}" alt="{{ product.Product_name }}">


            </div>
        </div>

        <!-- Right: Product Info -->
        <div class="info-section">
            <h1>{{ product.get('Product_name', 'Unknown Product') }}</h1>
            <div class="price-section">
                <span class="current-price">â‚¹{{ product.get('discounted_price', 'N/A') }}</span>
                <span class="original-price">â‚¹{{ product.get('original_price', 'N/A') }}</span>
                <span class="discount">{{ product.get('discount', 0) }}% off</span>
            </div>
            <p class="description">{{ product.get('Description', 'No description available') }}</p>

            <!-- Buttons -->
            <div class="buttons">
                <a href="{{ url_for('add_to_cart', product_id=product['Product_id']) }}" class="add-to-cart">
                    ðŸ›’ ADD TO CART
                </a>
                
                <button class="buy-now">âš¡ BUY NOW</button>
            </div>

            <!-- Offers -->
            <div class="offers">
                <h3>Available Offers</h3>
                <ul>
                    {% if product.get('offers') %}
                        {% for offer in product['offers'] %}
                        <li>âœ… {{ offer }}</li>
                        {% endfor %}
                    {% else %}
                        <li>No Offers Available</li>
                    {% endif %}
                </ul>
            </div>

            <!-- Delivery Section -->
            <div class="delivery">
                <label>Enter Delivery Pincode:</label>
                <input type="text" placeholder="Enter pincode">
                <button>Check</button>
                <p class="delivery-info">Delivery by <strong>20th Mar</strong> | <span class="free-delivery">FREE</span></p>
            </div>
        </div>
    </div>
</div>

<script>
    function updateMainImage(img) {
        document.getElementById("mainImage").src = img.src;
    }
</script>

{% endblock %}
